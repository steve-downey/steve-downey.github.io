<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Real World Haskell - Chapter 3 | What Comes to Mind</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css" crossorigin="anonymous">
<link href="../../../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../../../../../rss.xml">
<link rel="alternate" type="application/atom+xml" title="Atom" hreflang="en" href="../../../../../../feed.atom">
<link rel="canonical" href="https://sdowney.org/posts/index.php/2009/10/15/real-world-haskell-chapter-3/">
<!--[if lt IE 9]><script src="../../../../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Steve Downey">
<link rel="prev" href="../../01/testing-embedded-tex/" title="Testing embedded TeX" type="text/html">
<link rel="next" href="../../../../2013/03/25/hello-world-2/" title="Hello world!" type="text/html">
<meta property="og:site_name" content="What Comes to Mind">
<meta property="og:title" content="Real World Haskell - Chapter 3">
<meta property="og:url" content="https://sdowney.org/posts/index.php/2009/10/15/real-world-haskell-chapter-3/">
<meta property="og:description" content="These are the exercises from chapter 3 ofReal World Haskellby Bryan O'Sullivan, Don Stewart, and John Goerzen&gt; module RWHChapter3 where{-# OPTIONS_GHC -XMagicHash #-}Some useful things to check my wor">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2009-10-15T22:06:00-04:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@sdowney.org">
<meta name="twitter:creator" content="@sdowney">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href="../../../../../../">

            <span id="blog-title">What Comes to Mind</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav"></ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item">
<a href="../../../../../../archive.html" class="nav-link">Archives</a>
                </li>
<li class="nav-item">
<a href="../../../../../../categories/index.html" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="mailto:sdowney@sdowney.dev" class="nav-link"><i class="fa fa-envelope"></i></a>
                </li>
<li class="nav-item">
<a href="https://github.com/steve-downey" class="nav-link">GitHub <i class="fa-brands fa-square-github"></i></a>
                </li>
<li class="nav-item">
<a href="https://mastodon.social/@Sdowney" class="nav-link">Mastodon <i class="fa-brands fa-mastodon"></i></a>
                </li>
<li class="nav-item">
<a href="https://bsky.app/profile/sdowney.bsky.social" class="nav-link">Bluesky <i class="fa-brands fa-square-bluesky"></i></a>
                </li>
<li class="nav-item">
<a href="../../../../../../feed.atom" class="nav-link">ATOM <i class="fa-solid fa-atom"></i></a>
                </li>
<li class="nav-item">
<a href="../../../../../../rss.xml" class="nav-link">RSS <i class="fa-solid fa-rss"></i></a>

                
            </li>
</ul>
</div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Real World Haskell - Chapter 3</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Steve Downey
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2009-10-15T22:06:00-04:00" itemprop="datePublished" title="2009-10-15 22:06">2009-10-15 22:06</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>These are the exercises from chapter 3 of<br><a href="http://book.realworldhaskell.org/">Real World Haskell<br>by Bryan O'Sullivan, Don Stewart, and John Goerzen<br></a><br>&gt; module RWHChapter3 where<br><br>{-# OPTIONS_GHC -XMagicHash #-}<br><br><br>Some useful things to check my work:<br><br>&gt; import Test.QuickCheck<br>&gt; import Data.List<br>&gt; import GHC.Prim<br>&gt; import GHC.Base<br><br>1) Write a function that computes the number of elements in a list. To test it, ensure that it gives the same answers as the standard length  function.<br><br>&gt; lengthList (x:xs) = 1 + lengthList xs<br>&gt; lengthList []     = 0<br><br>check that it works by running<br><br>quickCheck (\s -&gt; length s == lengthList s)<br><br>at the interactive prompt<br><br><br><br>&gt; ghclength l                =  len l 0#<br>&gt;     where<br>&gt;     len :: [a] -&gt; Int# -&gt; Int<br>&gt;     len []     a# = I# a#<br>&gt;     len (_:xs) a# = len xs (a# +# 1#)<br><br>is the definition used by GHC.<br>It doesn't stack overflow on ghclength [1..1000000]<br>lengthList [1..1000000] does, at least in ghci<br><br><br>2) Add a type signature for your function to your source file.<br><br>&gt; lengthList :: [a] -&gt; Integer<br><br><br>3. write a function that computes the mean of a list, i.e. the sum of all elements in the list divided by its length. (you may need to use the fromintegral function to convert the length of the list from an integer into a floating point number.)<br><br>&gt; listMean x = sum x / fromIntegral (length x)<br><br>4. Turn a list into a palindrome, i.e. it should read the same both backwards and forwards. For example, given the list [1,2,3], your function should return [1,2,3,3,2,1].<br><br>&gt; makePalindrome x = x ++ reverse x<br><br><br>5. Write a function that determines whether its input list is a palindrome.<br><br>&gt; testPalindrome x = x == reverse x<br><br>&gt; testPalindrome2 x = (take (halfLength x) x)<br>&gt;                     == (take (halfLength x) (reverse x))<br>&gt;     where halfLength x = ((length x) `quot` 2)<br><br>reversing the whole list isn't exactly right<br><br>&gt; testPalindrome3 x = (take (halfLength x) x)<br>&gt;                     == reverse (drop (halfLength x) x)<br>&gt;     where halfLength x = ((length x) `quot` 2)<br><br>except now it thinks that odd length lists aren't palindromes.<br><br>6. Create a function that sorts a list of lists based on the length of each sublist. (You may want to look at the sortBy function from the Data.List module.)<br><br>&gt; sortByLength  = sortBy (\a b -&gt; compare (length a) (length b))<br><br>7 An intersperse with type intersperse :: a -&gt; [[a]] -&gt; [a], such that<br>ghci&gt; myintersperse ',' []<br>""<br>ghci&gt; myintersperse ',' ["foo"]<br>"foo"<br>ghci&gt; myintersperse ',' ["foo","bar","baz","quux"]<br>"foo,bar,baz,quux"<br><br>&gt; myintersperse :: a -&gt; [[a]] -&gt; [a]<br>&gt; myintersperse _ [] = []<br>&gt; myintersperse _ [x] = x<br>&gt; myintersperse c (x:xs) = x ++ [c] ++ (myintersperse c xs)<br><br>8. Height of a tree<br><br>&gt; data Tree a = Node a (Tree a) (Tree a)<br>&gt;             | Empty<br>&gt;               deriving (Show)<br><br>depth' :: Tree a -&gt; Int<br><br>&gt; depth' Empty      = 0<br>&gt; depth' (Node _ b c) = 1 + (max (depth' b) (depth' c))<br><br><br>9. Consider three two-dimensional points a, b, and c. If we look at the angle formed by the line segment from a to b and the line segment from b to c, it either turns left, turns right, or forms a straight line. Define a Direction data type that lets you represent these possibilities.<br><br>&gt; data Direction = DLeft<br>&gt;                | DRight<br>&gt;                | DStraight<br>&gt;                  deriving (Show)<br><br>&gt; data Point = Point {<br>&gt;       x::Double,<br>&gt;       y::Double<br>&gt;     } deriving (Show)<br><br>10. Write a function that takes three 2D Points and returns a direction.<br><br>&gt; direction p1 p2 p3<br>&gt;     |  signCross p1 p2 p3 &gt;     |  signCross p1 p2 p3 &gt; 0 = DLeft<br>&gt;     |  signCross p1 p2 p3 == 0 = DStraight<br>&gt;     where signCross (Point x1 y1) (Point x2 y2) (Point x3 y3) =<br>&gt;               (x2 - x1) * (y3 - y1) - (y2 - y1) * (x3 - x1)<br><br><br>11. Define a function that takes a list of 2D points and computes the direction of each successive triple. Given a list of points [a,b,c,d,e], it should begin by computing the turn made by [a,b,c], then the turn made by [b,c,d], then [c,d,e]. Your function should return a list of Direction.<br><br>&gt; directionList :: [Point] -&gt; [Direction]<br>&gt; directionList ([]) = []<br>&gt; directionList (_:[]) = []<br>&gt; directionList (_:_:[]) = []<br>&gt; directionList (x:x':x'':[]) = [(direction x x' x'')]<br>&gt; directionList (x:x':x'':xs) = (direction x x' x'') : directionList (x':x'':xs)<br><br><br>I don't particularly like the pattern match on the three x's. How<br>about a more general function to do sliding windows of data across the<br>list?<br><br>&gt; window :: Int -&gt; [a] -&gt; [[a]]<br>&gt; window2 :: Int -&gt; [a] -&gt; [[a]]<br><br><br>&gt; window n xs = if (length xs) &gt;               then []<br>&gt;               else (take n xs) : window n (tail xs)<br><br>&gt; window2 n xs  |  (length xs) &gt; window2 n x@(_:xs)                  = (take n x) : window2 n xs<br><br>&gt; direction2 (x1:x2:x3:[]) = direction x1 x2 x3<br><br>&gt; directionList2' (x:xs) = direction2 x : directionList2' xs<br>&gt; directionList2' [] = []<br><br>&gt; directionList2 x = directionList2' (window2 3 x)<br><br><br><br>I'm still working on the convex hull problem</p>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../../01/testing-embedded-tex/" rel="prev" title="Testing embedded TeX">Previous post</a>
            </li>
            <li class="next">
                <a href="../../../../2013/03/25/hello-world-2/" rel="next" title="Hello world!">Next post</a>
            </li>
        </ul></nav></aside></article><!--End of body content--><footer id="footer">
            Contents © 2024         <a href="mailto:sdowney@sdowney.dev">Steve Downey</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a> - 
 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
 <img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a>
            
            
        </footer>
</div>
</div>


        <script src="../../../../../../assets/js/all-nocdn.js"></script><script src="../../../../../../assets/js/luxon.min.js"></script><!-- fancy dates --><script>
        luxon.Settings.defaultLocale = "en";
        fancydates(2, {"preset": false, "format": "yyyy-MM-dd HH:mm"});
        </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-VGV27RDN3E"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VGV27RDN3E');
</script>
</body>
</html>
