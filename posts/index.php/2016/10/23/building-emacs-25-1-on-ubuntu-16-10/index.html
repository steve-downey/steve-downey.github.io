<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Building Emacs 25.1 on Ubuntu 16.10 | What Comes to Mind</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer">
<link rel="stylesheet" href="../../../../../../assets/css/rst.min.css">
<link rel="stylesheet" href="../../../../../../assets/css/foundation.min.css">
<link rel="stylesheet" href="../../../../../../assets/css/app.css">
<link rel="stylesheet" href="../../../../../../assets/css/modus-vivendi-tinted.css">
<link href="../../../../../../assets/css/custom.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../../../../rss.xml">
<link rel="alternate" type="application/atom+xml" title="Atom" href="../../../../../../feed.atom">
<link rel="canonical" href="https://sdowney.org/posts/index.php/2016/10/23/building-emacs-25-1-on-ubuntu-16-10/">
<!--[if lt IE 9]><script src="../../../../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Steve Downey">
<link rel="prev" href="../../../../2015/01/31/video-from-osr/" title="Video from OSR" type="text/html">
<link rel="next" href="../../../../../157/" title="C++ code in Org-mode" type="text/html">
<meta property="og:site_name" content="What Comes to Mind">
<meta property="og:title" content="Building Emacs 25.1 on Ubuntu 16.10">
<meta property="og:url" content="https://sdowney.org/posts/index.php/2016/10/23/building-emacs-25-1-on-ubuntu-16-10/">
<meta property="og:description" content="Table of Contents


1. Why notes
2. Getting Ready
3. Configure and build with magic option





1 Why notes

 Making notes so I don't forget, although the key problem is fixed upstream. 

 Ubuntu 16.1">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2016-10-23T00:00:00-04:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@sdowney.org">
<meta name="twitter:creator" content="@sdowney">
</head>
<body>

    

    
<div class="top-bar">
<div class="top-bar-left">
<ul class="menu">
<li class="menu-text"><a href="https://sdowney.org/" title="What Comes to Mind" rel="home">What Comes to Mind</a></li>
                <li><a href="../../../../../../archive.html">Archives</a></li>
                <li><a href="../../../../../../categories/index.html">Tags</a></li>
                <li><a href="mailto:sdowney@sdowney.dev"><i class="fa fa-envelope"></i></a></li>
                <li><a href="https://github.com/steve-downey">GitHub <i class="fa-brands fa-square-github"></i></a></li>
                <li><a href="https://mastodon.social/@Sdowney">Mastodon <i class="fa-brands fa-mastodon"></i></a></li>
                <li><a href="https://bsky.app/profile/sdowney.bsky.social">Bluesky <i class="fa-brands fa-square-bluesky"></i></a></li>
                <li><a href="../../../../../../feed.atom">ATOM <i class="fa-solid fa-atom"></i></a></li>
                <li><a href="../../../../../../rss.xml">RSS <i class="fa-solid fa-rss"></i></a></li>
    
    
    </ul>
</div>
</div>

    

<div class="callout large primary">
<div class="row column text-center">

    <h1>Building Emacs 25.1 on Ubuntu 16.10</h1>
    <h2 class="subheader"><small>2016-10-23 00:00</small></h2>

</div>
</div>

<div class="row medium-8 large-7 columns">

<div class="blog-post">
    
    


    <div id="table-of-contents">
<h3>Table of Contents</h3>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline1">1. Why notes</a></li>
<li><a href="#orgheadline2">2. Getting Ready</a></li>
<li><a href="#orgheadline3">3. Configure and build with magic option</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline1" class="outline-2">
<h3 id="orgheadline1">
<span class="section-number-2">1</span> Why notes</h3>
<div class="outline-text-2" id="text-1">
 Making notes so I don't forget, although the key problem is fixed upstream. 

 Ubuntu 16.10 (Yakkety Yak) has made a critical change to the system compiler, and everything is by default built with position independent executable support (PIE), in order to get better support for address space layout randomization. Here are the security notes for <a href="https://wiki.ubuntu.com/SecurityTeam/PIE">PIE</a>. Emacs does not dump successfully with this. The compiler option -no-pie needs to be added into CLFAGS. 

 The option also means that static libraries you've built before will probably need to be rebuilt. See the link above for typical errors. 
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-2">
<h3 id="orgheadline2">
<span class="section-number-2">2</span> Getting Ready</h3>
<div class="outline-text-2" id="text-2">
 First get dpkg-dev, g++, gcc, libc, make: 

<div class="org-src-container">

<pre class="src src-bash">sudo apt-get install build-essentials
</pre>
</div>

 Then get the full set of build dependencies for last emacs, emacs24: 

<div class="org-src-container">

<pre class="src src-bash">sudo apt-get build-dep emacs24
</pre>
</div>

 Decide if you want to build just this version, or track emacs. I track from git, because. So I have a directory for emacs where I have master, emacs25, and build directories. I try to avoid building in src dirs. It makes it easier to try out different options without polluting the src. 

<div class="org-src-container">

<pre class="src src-bash">mkdir -p ~/bld/emacs
<span class="org-builtin">cd</span> ~/bld/emacs
git clone git://git.savannah.gnu.org/emacs.git
<span class="org-builtin">cd</span> emacs.git
git worktree add ../emacs-25.1 emacs-25.1
<span class="org-builtin">cd</span> ..
mkdir bld-25.1
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-2">
<h3 id="orgheadline3">
<span class="section-number-2">3</span> Configure and build with magic option</h3>
<div class="outline-text-2" id="text-3">
 Now configure in the build directory: 

<div class="org-src-container">

<pre class="src src-bash"><span class="org-builtin">cd</span> bld-25.1
../emacs-25.1/configure <span class="org-sh-escaped-newline">\</span>
  --prefix=~/install/emacs-25.1 <span class="org-sh-escaped-newline">\</span>
  --with-x-toolkit=gtk3 <span class="org-sh-escaped-newline">\</span>
  --with-xwidgets <span class="org-sh-escaped-newline">\</span>
  <span class="org-variable-name">CFLAGS</span>=-no-pie
</pre>
</div>

 I built with xwidget support to play with the embedded webkit widget. It's not really useable as a browser, but has uses for rendering. I also install into a local program directory, under my homedir. 

 Build and install: 

<div class="org-src-container">

<pre class="src src-bash">make
make install
</pre>
</div>

 I have a bin directory early in $PATH so that I can select versions of local software ahead of system software. 

<div class="org-src-container">

<pre class="src src-bash"><span class="org-builtin">cd</span> ~/bin
ln -s ~/install/emacs-25.1/bin/emacs
ln -s ~/install/emacs-25.1/bin/emacsclient
</pre>
</div>

 Now you should have a working emacs 25.1 available. 
</div>
</div>

    <div class="callout">
    <ul class="menu simple">
<li>Author: Steve Downey</li>

    </ul>
</div>
    

    
        <div class="column row">
            <ul class="pagination" role="navigation" aria-label="Pagination">
<li>
                    <a href="../../../../2015/01/31/video-from-osr/" rel="prev" title="Video from OSR">« <span class="show-for-sr">Previous post</span></a>
                </li>
                <li>
                    <a href="../../../../../157/" rel="next" title="C++ code in Org-mode" aria-label="Next page">» <span class="show-for-sr">Next post</span></a>
                </li>
            </ul>
</div>

    
    


</div>



<hr>
<footer id="footer"><p><small>Contents © 2025         <a href="mailto:sdowney@sdowney.dev">Steve Downey</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a> - 
 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
 <img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a></small></p>
            
        </footer>
</div>

    



<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VGV27RDN3E"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VGV27RDN3E');
</script>
</body>
</html>
