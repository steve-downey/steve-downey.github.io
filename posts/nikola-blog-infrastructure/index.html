<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Nikola Blog Infrastructure | What Comes to Mind</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer">
<link rel="stylesheet" href="../../assets/css/rst.min.css">
<link rel="stylesheet" href="../../assets/css/foundation.min.css">
<link rel="stylesheet" href="../../assets/css/app.css">
<link rel="stylesheet" href="../../assets/css/modus-vivendi-tinted.css">
<link href="../../assets/css/custom.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="alternate" type="application/atom+xml" title="Atom" href="../../feed.atom">
<link rel="canonical" href="https://sdowney.org/posts/nikola-blog-infrastructure/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Steve Downey">
<link rel="prev" href="../index.php/2024/05/19/concept-maps-using-c23-library-tech/" title="Concept Maps using C++23 Library Tech" type="text/html">
<link rel="next" href="../substitution-is-sometimes-a-failure/" title="Substitution is Sometimes a Failure" type="text/html">
<meta property="og:site_name" content="What Comes to Mind">
<meta property="og:title" content="Nikola Blog Infrastructure">
<meta property="og:url" content="https://sdowney.org/posts/nikola-blog-infrastructure/">
<meta property="og:description" content="I've migrated from WordPress to a static blog generator–Nikola. This is how it works.






1. Nikola


Nikola is a static site generator written in python. It's mostly boring, which is a very good th">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2024-12-23T13:15:27-05:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@sdowney.org">
<meta name="twitter:creator" content="@sdowney">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
</head>
<body>

    

    
<div class="top-bar">
<div class="top-bar-left">
<ul class="menu">
<li class="menu-text"><a href="https://sdowney.org/" title="What Comes to Mind" rel="home">What Comes to Mind</a></li>
                <li><a href="../../archive.html">Archives</a></li>
                <li><a href="../../categories/index.html">Tags</a></li>
                <li><a href="mailto:sdowney@sdowney.dev"><i class="fa fa-envelope"></i></a></li>
                <li><a href="https://github.com/steve-downey">GitHub <i class="fa-brands fa-square-github"></i></a></li>
                <li><a href="https://mastodon.social/@Sdowney">Mastodon <i class="fa-brands fa-mastodon"></i></a></li>
                <li><a href="https://bsky.app/profile/sdowney.bsky.social">Bluesky <i class="fa-brands fa-square-bluesky"></i></a></li>
                <li><a href="../../feed.atom">ATOM <i class="fa-solid fa-atom"></i></a></li>
                <li><a href="../../rss.xml">RSS <i class="fa-solid fa-rss"></i></a></li>
    
    
    </ul>
</div>
</div>

    

<div class="callout large primary">
<div class="row column text-center">

    <h1>Nikola Blog Infrastructure</h1>
    <h2 class="subheader"><small>2024-12-23 13:15</small></h2>

</div>
</div>

<div class="row medium-8 large-7 columns">

<div class="blog-post">
    
    


    <div class="abstract" id="org334ae85">
<p>
I've migrated from WordPress to a static blog generator–Nikola. This is how it works.
</p>

</div>

<!-- TEASER_END -->
<div id="outline-container-org71ed231" class="outline-2">
<h2 id="org71ed231">
<span class="section-number-2">1.</span> Nikola</h2>
<div class="outline-text-2" id="text-1">
<p>
Nikola is a static site generator written in python. It's mostly boring, which is a very good thing for software meant for use to be. Its home is <a href="https://getnikola.org">https://getnikola.org</a> and the source is on github at <a href="https://github.com/getnikola/nikola">https://github.com/getnikola/nikola</a>. It's many years old at this point, but not dead.
</p>

<p>
The interesting part for me is that someone had already written a plugin that compiled org mode files, my preferred markup language, to the html that Nikola wants to publish. It wasn't quite to my tastes, but the changes were all on the org export side in elisp, and the python invocation of emacs to do the translation didn't need particular changes. That update is at <a href="https://github.com/steve-downey/wctm/tree/src/plugins/orgmode">https://github.com/steve-downey/wctm/tree/src/plugins/orgmode</a>.
</p>

<p>
I've also set up staging at a github pages repo rendered at <a href="https://steve-downey.github.io/">https://steve-downey.github.io/</a> since it's a static site. The real version is at <a href="https://sdowney.org">https://sdowney.org</a>.
</p>

<p>
Conversion was straightforward using the tools that Nikola provided and <a href="https://getnikola.com/handbook.html#importing-your-wordpress-site-into-nikola">following the directions</a> for importing a WordPress xml backup.
</p>
</div>
</div>
<div id="outline-container-orgad64039" class="outline-2">
<h2 id="orgad64039">
<span class="section-number-2">2.</span> Orgmode plugin</h2>
<div class="outline-text-2" id="text-2">
<p>
Pulling a plugin into my working site was easy
</p>
<div class="org-src-container">
<pre class="src src-zsh">nikola plugin -i orgmode
</pre>
</div>
<p>
copied the code from <a href="https://github.com/getnikola/plugins/tree/master/v8/orgmode">https://github.com/getnikola/plugins/tree/master/v8/orgmode</a> and I just had to update the main configuration file, <code>conf.py</code>, to map org files to the orgmode compiler.
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="org-variable-name">COMPILERS</span> <span class="org-operator">=</span> {
    <span class="org-string">"rest"</span>: [<span class="org-string">'.txt'</span>, <span class="org-string">'.rst'</span>],
    <span class="org-string">"markdown"</span>: [<span class="org-string">'.md'</span>, <span class="org-string">'.mdown'</span>, <span class="org-string">'.markdown'</span>],
    <span class="org-string">"html"</span>: [<span class="org-string">'.html'</span>, <span class="org-string">'.htm'</span>],
    <span class="org-string">"orgmode"</span>: [<span class="org-string">'.org'</span>],
}
</pre>
</div>

<p>
I then updated the source code for the elisp html exporter using code from <a href="https://github.com/steve-downey/wg21org/blob/main/emacs.d/init.el">https://github.com/steve-downey/wg21org/blob/main/emacs.d/init.el</a> which installs org from upstream rather than using the built-in orgmode and configures my preferences. I may end up using more of <a href="https://github.com/steve-downey/wg21org/blob/main/ox-wg21html.el">ox-wg21html.el</a> as a framework for the exported HTML, only updating to use Bootstrap for css classes instead of my own or the org builtin.
</p>
</div>
</div>
<div id="outline-container-orgfd56a24" class="outline-2">
<h2 id="orgfd56a24">
<span class="section-number-2">3.</span> LaTeX support via KaTeX</h2>
<div class="outline-text-2" id="text-3">
<p>
I've configure Nikola to support LaTeX via KaTeX rather than MathJax. It is supposed to be a bit faster. This means <b>inline</b> math like \(x^2\) or \(1 &lt; 2\) or with breaks like:
  \[
  \int_0^\infty e^{-x^2} dx = {{\sqrt{\pi}} \over {2}}
  \]
Or in running text where I want to mention \[ \frac{-b \pm \sqrt{b^2 - 4 a c}}{2a} \] as the quadratic equation.
It does mean I don't have access to latex blocks like
</p>
<div class="org-src-container">
<pre class="src src-latex"><span class="org-font-latex-sedate"><span class="org-keyword">\begin</span></span>{<span class="org-function-name">equation</span>}<span class="org-font-latex-math">
  n</span><span class="org-font-latex-math"><span class="org-font-latex-script-char">_{i+1}</span></span><span class="org-font-latex-math"> = </span><span class="org-font-latex-sedate"><span class="org-font-latex-math">\frac</span></span><span class="org-font-latex-math">{n</span><span class="org-font-latex-math"><span class="org-font-latex-script-char">_{i}</span></span><span class="org-font-latex-math"> (d-i) (e-1)}{(i+1)}
</span><span class="org-font-latex-sedate"><span class="org-keyword">\end</span></span>{<span class="org-function-name">equation</span>}
</pre>
</div>

<p>
Maybe I won't miss it.
</p>
</div>
</div>

    <div class="callout">
    <ul class="menu simple">
<li>Author: Steve Downey</li>

    </ul>
</div>
    

    
        <div class="column row">
            <ul class="pagination" role="navigation" aria-label="Pagination">
<li>
                    <a href="../index.php/2024/05/19/concept-maps-using-c23-library-tech/" rel="prev" title="Concept Maps using C++23 Library Tech">« <span class="show-for-sr">Previous post</span></a>
                </li>
                <li>
                    <a href="../substitution-is-sometimes-a-failure/" rel="next" title="Substitution is Sometimes a Failure" aria-label="Next page">» <span class="show-for-sr">Next post</span></a>
                </li>
            </ul>
</div>

    
    


</div>

        
        <script src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js" integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script><script>
                renderMathInElement(document.body,
                    {
                        
delimiters: [
    {left: "$$", right: "$$", display: true},
    {left: "\\[", right: "\\]", display: true},
    {left: "\\begin{equation*}", right: "\\end{equation*}", display: true},
    {left: "$", right: "$", display: false},
    {left: "\\(", right: "\\)", display: false}
]

                    }
                );
            </script><hr>
<footer id="footer"><p><small>Contents © 2025         <a href="mailto:sdowney@sdowney.dev">Steve Downey</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a> - 
 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
 <img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a></small></p>
            
        </footer>
</div>

    



<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VGV27RDN3E"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VGV27RDN3E');
</script>
</body>
</html>
